<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VirtuaLook - Votre Dressing Digital</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gugi&family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="images/favicon.png">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
       (function(){
          emailjs.init({
            publicKey: "eTvjpGTDwu0AjVlyf", // Ta clé publique est bien ici
          });
       })();
    </script>
</head>
<body>

    <header class="navbar">
        <div class="logo">
            <span class="logo-text">
                <span class="logo-virtua">Virtua</span><span class="logo-look">Look</span>
            </span>
        </div>
        <nav class="nav-links">
            <a href="#AboutUs">À propos</a>
            <a href="#Contact">Contact</a>
        </nav>
        <a href="dressing_page.html" class="cta-button primary-nav">MON DRESSING</a>
    </header>

    <main>
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    Trouvez <span class="highlight">la</span> meilleure tenue
                </h1>
                <p class="hero-subtitle">
                    Essayez toutes vos tenues sans avoir à les porter. Créez votre double digital et organisez votre garde-robe de demain.
                </p>

                <div class="landing-avatar-container"> 
                    <img src="images/avatar_landing_page.png" alt="Avatar VirtuaLook en 3D" class="avatar-image">
                </div>

                <a href="#" class="cta-button primary-hero">COMMENCER MAINTENANT</a>
                <p class="login-link">Déjà membre ? <a href="#">Se connecter</a></p>
            </div>
        </section>

        <section id="AboutUs" class="section-container">
            <div class="section-content">
                <h2 class="section-title">À propos de VirtuaLook</h2>
                <div class="about-text">
                    <p>
                        VirtuaLook est né d'une idée simple : réinventer la façon dont nous interagissons avec notre garde-robe. 
                        Nous croyons que la mode doit être accessible, ludique et durable. Notre technologie de cabine d'essayage 
                        virtuelle vous permet de visualiser instantanément vos tenues, de gagner du temps le matin et de redécouvrir 
                        des vêtements oubliés au fond de vos placards.
                    </p>
                </div>
            </div>
        </section>

        <section id="Contact" class="section-container bg-alt">
            <div class="section-content">
                <h2 class="section-title">Nous contacter</h2>
                <p class="section-desc">Une question ou une suggestion ? Écrivez-nous !</p>
                
                <form id="contact-form" class="contact-form">
                    <div class="form-group-row">
                        <div class="form-group">
                            <label for="firstname">Prénom</label>
                            <input type="text" id="firstname" name="firstname" placeholder="Votre prénom" required>
                        </div>
                        <div class="form-group">
                            <label for="lastname">Nom</label>
                            <input type="text" id="lastname" name="lastname" placeholder="Votre nom" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Adresse Email</label>
                        <input type="email" id="email" name="email" placeholder="exemple@email.com" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="Comment pouvons-nous vous aider ?" required></textarea>
                    </div>

                    <button type="submit" id="submit-btn" class="cta-button primary-nav btn-full-width">ENVOYER LE MESSAGE</button>
                </form>
            </div>
        </section>

    </main>

    <footer>
        <div class="footer">
            <div class="footer-text">
                <p>© 2025 VirtuaLook</p>
            </div>
            <div class="other_infos">
            </div>
        </div>
    </footer>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            
            // On récupère le formulaire par son ID (ajouté plus haut)
            const form = document.getElementById('contact-form');

            if (form) {
                form.addEventListener('submit', function(event) {
                    event.preventDefault(); // Indispensable pour éviter l'erreur 405

                    const btn = document.getElementById('submit-btn');
                    const originalText = btn ? btn.innerText : 'Envoyer'; // Sauvegarde du texte
                    
                    if(btn) btn.innerText = 'Envoi en cours...';

                    // Tes IDs corrects
                    const serviceID = 'service_rq5uxmt';
                    const templateID = 'template_0qxauh7';

                    emailjs.sendForm(serviceID, templateID, this)
                        .then(() => {
                            if(btn) {
                                btn.innerText = 'Message envoyé !';
                                btn.style.backgroundColor = '#28a745';
                            }
                            // Reset après 3 secondes
                            setTimeout(() => {
                                if(btn) {
                                    btn.innerText = originalText;
                                    btn.style.backgroundColor = '';
                                }
                                form.reset();
                            }, 3000);
                        }, (error) => {
                            if(btn) {
                                btn.innerText = 'Erreur...';
                                btn.style.backgroundColor = '#dc3545';
                            }
                            console.log('FAILED...', error);
                            alert('Erreur : ' + JSON.stringify(error));
                            
                            setTimeout(() => {
                                if(btn) {
                                    btn.innerText = originalText;
                                    btn.style.backgroundColor = '';
                                }
                            }, 3000);
                        });
                });
            } else {
                console.error("Erreur : Formulaire introuvable. Vérifiez l'ID 'contact-form' dans le HTML.");
            }
        });
    </script>

</body>
</html>
